(this["webpackJsonpself-help-sheets"]=this["webpackJsonpself-help-sheets"]||[]).push([[4],{232:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return D}));var a=n(2),r=n.n(a),i=n(4),o=n(56),s=n(16),l=n(0),c=n.n(l),u=n(161),m=n(111),f=n(227),d=n(231),p=n(230),E=n(192),h=n(228),v=n(159),g=n(185),b=n(199),x=n(229),j=n(216),w=n.n(j),k=n(13),y=n(55),C=n(93);function L(e,t,n){return A.apply(this,arguments)}function A(){return(A=Object(i.a)(r.a.mark((function e(t,n,a){var i,o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){t.subscribe((function n(a){t.unsubscribe(n),e(a)}))}));case 2:return i=e.sent,o=!1,s=i.map((function(e){var t=e.emojiArrays.map((function(e){return P(e,n,a)}));return t.some((function(e){return e.someValuesAreDeleted}))&&(o=!0),e.setEmojiLeft(t[0].newArray).setEmojiRight(t[1].newArray)})),e.abrupt("return",{someValuesAreDeleted:o,newEntries:s});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t,n){for(var a=new Map,r=0;r<t.length;r++)a.set(t[r].codePoint,e[r]);for(var i=[],o=0;o<n.length;o++){var s=a.get(n[o].codePoint);i.push(null==s?0:s)}return{newArray:i,someValuesAreDeleted:t.some((function(e){return a.get(e.codePoint)>0&&null==n.find((function(t){return t.codePoint===e.codePoint}))}))}}var S=c.a.memo(w.a),O=Object(u.a)((function(e){return{emojiIcon:{margin:"0px 5px 5px 0px ",fontSize:20,display:"flex",alignItems:"center",paddingLeft:10},hintContainer:{display:"flex",flexDirection:"column"},buttons:{marginTop:20,display:"flex",justifyContent:"space-between"},input:{backgroundColor:e.palette.background.paper}}}));function I(e){var t=O();return c.a.createElement("div",{className:t.hintContainer},c.a.createElement(m.a,{variant:"h6"},e.label+":"),c.a.createElement(f.a,{value:"end",label:"Enable popup",control:c.a.createElement(d.a,{checked:e.value.isEnabled,onChange:function(t){e.onChange(e.value.setIsEnabled(t.target.checked))}})}),c.a.createElement(p.a,{value:e.value.text,onChange:function(t){return e.onChange(e.value.setText(t.target.value))},className:t.input,variant:"outlined",multiline:!0}))}function D(e){var t=O(),n=c.a.useState(k.b.state),a=Object(s.a)(n,2),l=a[0],u=a[1],f=c.a.useState(null),d=Object(s.a)(f,2),p=d[0],j=d[1];c.a.useEffect((function(){k.b.addStateListener(u)}),[]),c.a.useEffect((function(){var t=function(e,t){j((function(e){return null==e?t:e}))};return null!=e.model&&e.model.subscribe(t),function(){null!=e.model&&e.model.unsubscribe(t)}}),[e.model]);var w=c.a.useCallback((function(t,n){j((function(t){var a=n.emoji.codePointAt(0),r=n.names.length>0?n.names[n.names.length-1]:"";if(-1!==t.emojiList.findIndex((function(e){return e.codePoint===a})))return alert(r+" is already selected"),t;var i=Object(o.a)(t.emojiList);i.push({codePoint:a,text:r});var s=t.setEmojiList(i);e.model.onSettingsUpdate(s),j(s)}))}),[e.model]);if(l===k.a.SIGNED_OUT)return c.a.createElement(y.a,null,"Sign in to proceed...");if(l===k.a.LOADING||null==p||null==e.model)return c.a.createElement(y.a,null,"Loading...");var A=function(){var t=Object(i.a)(r.a.mark((function t(n){var a,i,s,l,c,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Object(o.a)(p.emojiList),-1!==(i=a.findIndex((function(e){return e.codePoint===n})))){t.next=4;break}return t.abrupt("return");case 4:return a.splice(i,1),t.next=7,L(e.model,p.emojiList,a);case 7:if(s=t.sent,l=s.someValuesAreDeleted,c=s.newEntries,!l||window.confirm("This will delete some moods from some of the entries. Are you sure?")){t.next=12;break}return t.abrupt("return");case 12:c.forEach((function(t){e.model.onUpdate(t)})),u=p.setEmojiList(a),e.model.onSettingsUpdate(u),j(u);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P=function(){var t=Object(i.a)(r.a.mark((function t(){var n,a,i,o,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new C.a,t.next=3,L(e.model,p.emojiList,n.emojiList);case 3:a=t.sent,i=a.someValuesAreDeleted,o=a.newEntries,s=i?"This will delete some moods from some entries. Reset settings?":"Reset settings?",window.confirm(s)&&(o.forEach((function(t){e.model.onUpdate(t)})),e.model.onSettingsUpdate(n),j(n));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c.a.createElement(E.a,{container:!0,justify:"center",spacing:2},c.a.createElement(E.a,{item:!0,xs:12},c.a.createElement(m.a,{variant:"h4",align:"center"},"Settings")),c.a.createElement(E.a,{container:!0,item:!0,xs:12,spacing:2},c.a.createElement(E.a,{item:!0,xs:12},c.a.createElement(m.a,{variant:"h5"},"Helper questions")),c.a.createElement(E.a,{item:!0,xs:12,sm:6},c.a.createElement(I,{label:"Left",value:p.leftHint,onChange:function(t){var n=p.setLeftHint(t);e.model.onSettingsUpdate(n),j(n)}})),c.a.createElement(E.a,{item:!0,xs:12,sm:6},c.a.createElement(I,{label:"Right",value:p.rightHint,onChange:function(t){var n=p.setRightHint(t);e.model.onSettingsUpdate(n),j(n)}})),c.a.createElement(E.a,{item:!0,xs:12},c.a.createElement(h.a,null))),c.a.createElement(E.a,{container:!0,item:!0,xs:12,spacing:2},c.a.createElement(E.a,{item:!0,xs:12},c.a.createElement(m.a,{variant:"h5"},"Moods")),c.a.createElement(E.a,{container:!0,alignItems:"flex-start",justify:"flex-start",alignContent:"flex-start",item:!0,xs:12,sm:6},c.a.createElement(E.a,{item:!0,xs:12},c.a.createElement(m.a,{variant:"h6"},"Active: ")),p.emojiList.map((function(e){return c.a.createElement(E.a,{item:!0,key:e.codePoint},c.a.createElement(v.a,{className:t.emojiIcon},c.a.createElement(m.a,null,String.fromCodePoint(e.codePoint)),c.a.createElement(g.a,{onClick:function(){return A(e.codePoint)}},c.a.createElement(x.a,null))))}))),c.a.createElement(E.a,{item:!0,xs:12,sm:6},c.a.createElement(m.a,{variant:"h6"},"Add new:"),c.a.createElement(S,{disableSkinTonePicker:!0,disableAutoFocus:!0,onEmojiClick:w})),c.a.createElement(E.a,{item:!0,xs:12,className:t.buttons},c.a.createElement(b.a,{color:"secondary",onClick:P},"Reset defaults"),c.a.createElement(b.a,{color:"primary",onClick:e.onClose},"Close"))))}}}]);
//# sourceMappingURL=4.38237483.chunk.js.map